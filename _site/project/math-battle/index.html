<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- <meta http-equiv="Cache-Control" content="no-cache"> -->

<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="keywords" content="zachary,espiritu,tile,tap,push,reaction,line">
<meta name="author" content="Zachary Espiritu">

<link rel="apple-touch-icon" sizes="57x57" href="/images/icon/icon.ico/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/icon/icon.ico/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/icon/icon.ico/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/icon/icon.ico/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/icon/icon.ico/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/icon/icon.ico/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/icon/icon.ico/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/icon/icon.ico/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/icon/icon.ico/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192" href="/images/icon/icon.ico/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/icon/icon.ico/img/icon/icon.ico/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/icon/icon.ico/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/icon/icon.ico/favicon-16x16.png">
<link rel="manifest" href="/images/icon/icon.ico/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/images/icon/icon.ico/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


<title>Math Battle II | Zachary Espiritu</title>

<!-- Custom CSS -->
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
<script src="https://use.fontawesome.com/75857e1dd3.js"></script>
<link type="text/css" href="/css/main.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

        <!-- Begin Jekyll SEO tag v2.2.3 -->
<meta property="og:title" content="Math Battle II" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction" />
<meta property="og:description" content="Introduction" />
<link rel="canonical" href="http://zacharyespiritu.com/project/math-battle/" />
<meta property="og:url" content="http://zacharyespiritu.com/project/math-battle/" />
<meta property="og:site_name" content="Zachary Espiritu" />
<meta property="og:image" content="http://zacharyespiritu.com/images/social-banner.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-06-12T00:00:00-04:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@ZacharyEspiritu" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Math Battle II","image":"http://zacharyespiritu.com/images/social-banner.png","datePublished":"2016-06-12T00:00:00-04:00","dateModified":"2016-06-12T00:00:00-04:00","description":"Introduction","mainEntityOfPage":{"@type":"WebPage","@id":"http://zacharyespiritu.com/project/math-battle/"},"url":"http://zacharyespiritu.com/project/math-battle/"}</script>
<!-- End Jekyll SEO tag -->

        <style>
            .post-content a {
                
                    color: #E461FF;
                
            }
        </style>
    </head>
    <body>
        <link href="/css/please-wait.css" rel="stylesheet">
<script type="text/javascript" src="/javascripts/please-wait.min.js"></script>
<script type="text/javascript">
    const loadingMessages = ["Buying more watermelons...",
                             "Constructing additional pylons...",
                             "Dancing to Stepmania...",
                             "Designing more app icons...",
                             "Digging for treasure...",
                             "Downloading extra RAM...",
                             "Drinking more lychee bubble tea...",
                             "Eating more seaweed...",
                             "Finding more friends...",
                             "Getting the actors ready...",
                             "Hoping this works...",
                             "Illuminating the stories of the people in the street...",
                             "Inserting random caption...",
                             "Keeping the coffee sweet...",
                             "Loading humorous message...",
                             "Looking around at how lucky we are to be alive right now...",
                             "Mixing drinks and changing lives...",
                             "Negotiating for net neutrality...",
                             "Not throwing away his shot...",
                             "Playing Kirby by spamming Down-B...",
                             "Printing more trading cards...",
                             "Programming the flux capacitor...",
                             "Publishing next edition of the newspaper...",
                             "Putting bubbles in the seltzer...",
                             "Reassembling the string cheese...",
                             "Searching for romance...",
                             "Setting up the lights...",
                             "Shipping quickly and often...",
                             "Slacking the other team members...",
                             "Solving more physics problems...",
                             "Sorting the lines...",
                             "Speeching and debating...",
                             "Spinning up the hamster...",
                             "Tapping the white tiles...",
                             "Thinking past tomorrow...",
                             "Tightening loose screws...",
                             "Trying to catch them all...",
                             "Trying to go faster...",
                             "Warming up the particle accelerator...",
                             "Writing every night like he's running out of time..."]
    const loadingMessage = loadingMessages[Math.floor(Math.random() * loadingMessages.length)];
    window.loading_screen = window.pleaseWait({
        logo: "/images/logo.svg",
        backgroundColor: '#18212D',
        loadingHtml: loadingMessage + "<div class='spinner'><div class='double-bounce1'></div><div class='double-bounce2'></div></div>"
    });
</script>

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" src="/javascripts/isotope.pkgd.min.js"></script>

<script type="text/javascript" src="/javascripts/jquery.scrollme.min.js"></script>
<script type="text/javascript" src="/javascripts/lazysizes.min.js"></script>

<script type="text/javascript" src="/javascripts/scripts.min.js"></script>

<script>
    window.onblur = function() {
        document.title = "Where'd you go? ツ";
    };
    window.onfocus = function() {
        document.title = "Math Battle II | Zachary Espiritu";
    };
</script>

        <main>
            <header id="header" class="article-header">
                <div class="wrapper">
                    <div class="left">
                        <a href="/" class="logo-container">
                            <img src="/images/logo.svg" class="logo" alt="The logo of the site.">
                        </a>
                        <div class="intro">
                            <div class="page-type">
                                 
                                    Project:
                                
                            </div>
                            <h1 class="page-title">
                                Math Battle II
                            </h1>
                            <div class="page-tagline">
                                
                                    An experiment in online real-time multiplayer, brand design, and how much people secretly like math
                                
                            </div>
                        </div>
                    </div>
                    <div class="right">
                        <nav role="navigation">
    <ul class="header-nav-list">
        <li><a href="mailto:me@zacharyespiritu.com">me@zacharyespiritu.com</a></li>
        <li><a href="/resume">resume.pdf</a></li>
        <li><a href="/about">about.html</a></li>
        <li><a href="https://github.com/ZacharyEspiritu/zacharyespiritu.github.io">source.git</a></li>
    </ul>
</nav>

                    </div>
                </div>
            </header>
            <div class="color-detail" style="background: #E461FF;"></div>
            <div class="wrapper">
                <article class="post-content">
                    <h1 id="introduction">Introduction</h1>

<p>Nowadays, getting children (and adults!) to play “educational games” can be hard to nearly impossible. That’s where Math Battle comes in. Originally created at Local Hack Day 2015 @ General Assembly and winner of the 2015 Congressional App Challenge, Math Battle is an iOS game where two players play on the same screen and go head-to-head in a battle of intellect attempting to solve procedurally generating, math-based puzzles faster than the other player.</p>

<figure class="video-sizer">
    <div class="video-wrapper">
        <iframe width="640" height="360" data-src="https://www.youtube.com/embed/OmnT4P_ALu4" frameborder="" class="lazyload" allowfullscreen=""></iframe>
    </div>
</figure>

<h2 id="overview">Overview</h2>

<p>Users can either play Math Battle locally on the same phone using a split-screen form of the game or compete in “ranked battles” via an online multiplayer mode. Battles consist of players competing to solve five procedurally generated puzzles faster than the other player. To do so, they are given a random set of nine “number tiles” and a target number.</p>

<p>Players must use <em>all</em> nine number tiles in order to come up with a math equation that, when evaluated, results in the target number. A player wins the battle when they have solved five puzzles faster than the other player or, after two minutes, the player with the highest number of solved puzzles wins.</p>

<h2 id="implementation">Implementation</h2>

<p>I programmed the majority of the app in Swift using the open-source game engine <a href="https://github.com/cocos2d/cocos2d-objc">cocos2d-objc</a>, and designed and created all of the artwork myself using a combination of Adobe Illustrator and Sketch.</p>

<p>All puzzles are generated on the fly, each with a guaranteed solution. This allows for massive replayability, so you can challenge your enemies (and your math teachers, of course) to a Math Battle as many times as you want and still get new puzzles every time.</p>

<figure class="four-screenshot-grid lazyload">
    <img class="lazyload" data-src="/images/projects/math-battle/custom-match.png" />
    <img class="lazyload" data-src="/images/projects/math-battle/practice-match.png" />
    <img class="lazyload" data-src="/images/projects/math-battle/player-stats.png" />
    <img class="lazyload" data-src="/images/projects/math-battle/leaderboard.png" />
</figure>

<p>I also used <a href="https://firebase.google.com/">Firebase</a>’s Realtime Database, Authentication, Cloud Messaging (push notifications), and Analytics modules for the backend. I engineered a way to take advantage of Firebase’s notably fast data update and retreival benchmarks to allow for real-time online multiplayer battles. This allows players to compete on separate devices while still seeing all of the taps and moves of their opponent on the other side of their playfield.</p>

<p>Finally, I implemented an <a href="https://en.wikipedia.org/wiki/Elo_rating_system">ELO rating system</a> which further incentives players and students to continually play and improve their quick thinking skills in order to climb up the leaderboards.</p>

<h1 id="design">Design</h1>

<p>A large amount of Math Battle’s time in production was spent developing an unified brand design. As a starting point, I was primarily inspired by the look of the typeface, <a href="https://www.behance.net/gallery/13756975/ADAMCG-PRO-Free-Typeface">ADAM.CG PRO</a>. This led to the thick, black borders and the drop shadows seen around most of the elements. I also used bright colors to give the game a more friendly mood.</p>

<figure class="six-screenshot-grid lazyload">
    <img class="lazyload" data-src="/images/projects/math-battle/gameplay-design-1.png" />
    <img class="lazyload" data-src="/images/projects/math-battle/gameplay-design-2.png" />
    <img class="lazyload" data-src="/images/projects/math-battle/gameplay-design-3.png" />
    <img class="lazyload" data-src="/images/projects/math-battle/gameplay-design-4.png" />
    <img class="lazyload" data-src="/images/projects/math-battle/gameplay-design-5.png" />
    <img class="lazyload" data-src="/images/projects/math-battle/gameplay-scene.png" />
    <figcaption>Several iterations were necessary before the final gameplay design was reached.</figcaption>
</figure>

<h2 id="animations">Animations</h2>

<p>One of the things I always like to do in my games is make sure that there is motion on the screen at all times—this prevents players from ever thinking that the game froze and also, in my opinion, simply makes for a better game feel overall. As such, almost all of the backgrounds in Math Battle are moving on a loop.</p>

<p>I’m most proud of the subtle, “intersecting” backgrounds as seen in the gameplay screens, which I achieved through some custom OpenGL tinkering to selectively prevent textures from rendering on top of one another. You can see this in the GIF below:</p>

<figure class="lazyload">
    <img class="responsive-screenshot lazyload" data-src="/images/projects/math-battle/animations.gif" />
</figure>

<p>To give the game more polish, the last month or so of development was spent working on the animations seen throughout the game. In particular, the menu transition animations took a lot of time to get just right—however, it was worth it in the end for technical reasons as it allowed me to seamlessly load and deallocate memory for each gamemode menu instead of loading all the menus at once, which was calling memory warnings.</p>

<h2 id="trading-cards">Trading Cards</h2>

<p>For marketing purposes, I designed and printed Math Battle “trading cards.” They feature download information on the backside, and a randomized tile and background color combination on the front.</p>

<p>I usually always have some on hand, so if you ever meet me in person, feel free to ask me for one.</p>

<figure class="lazyload">
    <img class="responsive-image lazyload" data-src="/images/projects/math-battle/trading-cards.jpg" />
</figure>

<h1 id="pressaward-history">Press/Award History</h1>

<p>Math Battle was originally created at <a href="https://localhackday.mlh.io/">Local Hack Day</a> 2015 @ General Assembly in October 2015, where it won “Best UI Design” out of several dozen teams.</p>

<p>After a complete redesign of the app, in February 2016, I won the 2015 <a href="http://www.congressionalappchallenge.us/">Congressional App Challenge</a>. As a result, I was invited to Washington, D.C. to a reception with the other regional winners, political representatives, and engineers from tech companies such as Spotify and IBM.</p>

<p>Most recently, I was named on CEWeek’s <a href="http://ceweekny.com/about/10under20-2016/">10Under20: Young Innovators To Watch</a> list for my work on Math Battle. Since then, I’ve been featured in several publications around the internet—you can view several of these articles on the <a href="http://mathbattle.pw">Math Battle website</a>.</p>

<figure class="lazyload">
    <img class="responsive-image lazyload" data-src="/images/projects/math-battle/ceweek-presentation.jpg" />
    <figcaption>
        Receiving the 10Under20 award at CEWeek 2016.
    </figcaption>
</figure>


                    
                        <div class="post-ending">
                            <div class="ending-tagline">
                                Math Battle was released in July 2016.
                            </div>
                            
                                <a href="http://mathbattle.pw" class="ending-button">
                                    visit site 
                                    <i class="fa fa-long-arrow-right post-ending-arrow" aria-hidden="true"></i>
                                </a>
                            
                        </div>
                    
                </article>
            </div>
        </main>
        




<div class="post-preview">
    <div class="wrapper">
        previews.txt<br>
        ------------<br>
        <a class="preview-link" href="/">-> home</a><br>
        
            <a class="preview-link" href="/project/mental-health-matters/">-> next_project</a><br>
        
        
            <a class="preview-link" href="/project/math-maze/">-> previous_project</a>
        
    </div>
</div>

        <div class="color-detail" style="background: #E461FF;"></div>
        <footer id="footer" class="content gray" role="group">
    <div class="wrapper center-align">
        <a href="https://github.com/ZacharyEspiritu" class="footer-social" aria-label="Github">
            <i class="fa fa-github-square" aria-hidden="true" title="Github"></i>
            ZacharyEspiritu
        </a>
        <a href="https://www.linkedin.com/in/zacharyespiritu" class="footer-social" aria-label="LinkedIn">
            <i class="fa fa-linkedin-square" aria-hidden="true" title="LinkedIn"></i>
            zachary.espiritu
        </a>
        <a href="mailto:me@zacharyespiritu.com" class="footer-social" aria-label="Email">
            <i class="fa fa-envelope" aria-hidden="true" title="Email"></i>
            me@zacharyespiritu.com
        </a>
    </div>
</footer>
<div class="footer-rainbow">
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
</div>

        <script type="text/javascript">
    window.loading_screen.finish();
</script>

<script>
    !function(z,a,c,h,A,r,y){z.GoogleAnalyticsObject=c;z[c]||(z[c]=function(){
    (z[c].q=z[c].q||[]).push(arguments)});z[c].l=+new Date;r=a.createElement(h);
    y=a.getElementsByTagName(h)[0];r.src=A;y.parentNode.insertBefore(r,y)}
    (window,document,'ga','script','//www.google-analytics.com/analytics.js');

    ga('create', 'UA-83690859-1', 'auto');
    ga('send', 'pageview');
</script>

    </body>
</html>
