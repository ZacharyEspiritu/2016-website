<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- <meta http-equiv="Cache-Control" content="no-cache"> -->

<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="keywords" content="zachary,espiritu,tile,tap,push,reaction,line">
<meta name="author" content="Zachary Espiritu">

<link rel="apple-touch-icon" sizes="57x57" href="/images/icon/icon.ico/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/icon/icon.ico/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/icon/icon.ico/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/icon/icon.ico/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/icon/icon.ico/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/icon/icon.ico/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/icon/icon.ico/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/icon/icon.ico/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/icon/icon.ico/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192" href="/images/icon/icon.ico/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/icon/icon.ico/img/icon/icon.ico/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/icon/icon.ico/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/icon/icon.ico/favicon-16x16.png">
<link rel="manifest" href="/images/icon/icon.ico/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/images/icon/icon.ico/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


<title>Math Maze | Zachary Espiritu</title>

<!-- Custom CSS -->
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
<script src="https://use.fontawesome.com/75857e1dd3.js"></script>
<link type="text/css" href="/css/main.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

        <!-- Begin Jekyll SEO tag v2.2.3 -->
<meta property="og:title" content="Math Maze" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Overview" />
<meta property="og:description" content="Overview" />
<link rel="canonical" href="http://localhost:4000/project/math-maze/" />
<meta property="og:url" content="http://localhost:4000/project/math-maze/" />
<meta property="og:site_name" content="Zachary Espiritu" />
<meta property="og:image" content="http://localhost:4000/images/social-banner.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-02-20T00:00:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@ZacharyEspiritu" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Math Maze","image":"http://localhost:4000/images/social-banner.png","datePublished":"2016-02-20T00:00:00-05:00","dateModified":"2016-02-20T00:00:00-05:00","description":"Overview","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/project/math-maze/"},"url":"http://localhost:4000/project/math-maze/"}</script>
<!-- End Jekyll SEO tag -->

        <style>
            .post-content a {
                
                    color: #696969;
                
            }
        </style>
    </head>
    <body>
        <link href="/css/please-wait.css" rel="stylesheet">
<script type="text/javascript" src="/javascripts/please-wait.min.js"></script>
<script type="text/javascript">
    const loadingMessages = ["Buying more watermelons...",
                             "Constructing additional pylons...",
                             "Dancing to Stepmania...",
                             "Designing more app icons...",
                             "Digging for treasure...",
                             "Downloading extra RAM...",
                             "Drinking more lychee bubble tea...",
                             "Eating more seaweed...",
                             "Finding more friends...",
                             "Getting the actors ready...",
                             "Hoping this works...",
                             "Illuminating the stories of the people in the street...",
                             "Inserting random caption...",
                             "Keeping the coffee sweet...",
                             "Loading humorous message...",
                             "Looking around at how lucky we are to be alive right now...",
                             "Mixing drinks and changing lives...",
                             "Negotiating for net neutrality...",
                             "Not throwing away his shot...",
                             "Playing Kirby by spamming Down-B...",
                             "Printing more trading cards...",
                             "Programming the flux capacitor...",
                             "Publishing next edition of the newspaper...",
                             "Putting bubbles in the seltzer...",
                             "Reassembling the string cheese...",
                             "Searching for romance...",
                             "Setting up the lights...",
                             "Shipping quickly and often...",
                             "Slacking the other team members...",
                             "Solving more physics problems...",
                             "Sorting the lines...",
                             "Speeching and debating...",
                             "Spinning up the hamster...",
                             "Tapping the white tiles...",
                             "Thinking past tomorrow...",
                             "Tightening loose screws...",
                             "Trying to catch them all...",
                             "Trying to go faster...",
                             "Warming up the particle accelerator...",
                             "Writing every night like he's running out of time..."]
    const loadingMessage = loadingMessages[Math.floor(Math.random() * loadingMessages.length)];
    window.loading_screen = window.pleaseWait({
        logo: "/images/logo.svg",
        backgroundColor: '#18212D',
        loadingHtml: loadingMessage + "<div class='spinner'><div class='double-bounce1'></div><div class='double-bounce2'></div></div>"
    });
</script>

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" src="/javascripts/isotope.pkgd.min.js"></script>

<script type="text/javascript" src="/javascripts/jquery.scrollme.min.js"></script>
<script type="text/javascript" src="/javascripts/lazysizes.min.js"></script>

<script type="text/javascript" src="/javascripts/scripts.min.js"></script>

<script>
    window.onblur = function() {
        document.title = "Where'd you go? ツ";
    };
    window.onfocus = function() {
        document.title = "Math Maze | Zachary Espiritu";
    };
</script>

        <main>
            <header id="header" class="article-header">
                <div class="wrapper">
                    <div class="left">
                        <a href="/" class="logo-container">
                            <img src="/images/logo.svg" class="logo" alt="The logo of the site.">
                        </a>
                        <div class="intro">
                            <div class="page-type">
                                 
                                    Project:
                                
                            </div>
                            <h1 class="page-title">
                                Math Maze
                            </h1>
                            <div class="page-tagline">
                                
                                    Using dynamic maze generation algorithms when tile-based math games aren’t enough
                                
                            </div>
                        </div>
                    </div>
                    <div class="right">
                        <nav role="navigation">
    <ul class="header-nav-list">
        <li><a href="mailto:me@zacharyespiritu.com">me@zacharyespiritu.com</a></li>
        <li><a href="/resume">resume.pdf</a></li>
        <li><a href="/about">about.html</a></li>
        <li><a href="https://github.com/ZacharyEspiritu/zacharyespiritu.github.io">source.git</a></li>
    </ul>
</nav>

                    </div>
                </div>
            </header>
            <div class="color-detail" style="background: #696969;"></div>
            <div class="wrapper">
                <article class="post-content">
                    <h1 id="overview">Overview</h1>

<p>At the 3rd <a href="https://blueprint.hackmit.org/">Blueprint @ MIT</a>, I created Math Maze, a two-player game about finding your way through a maze faster than the other player. The trick? There are no walls in the maze—you have to find a path that adds up to the specified target number.</p>

<figure class="lazyload">
    <img class="responsive-screenshot lazyload" data-src="/images/projects/math-maze/title-screen.png" />
</figure>

<p>Since I had already created <a href="/project/math-battle">another math-related game</a>, the real project here wasn’t as so much as the gameplay as figuring out how to develop a maze generation algorithm that worked as quickly as possible as to not interrupt gameplay.</p>

<h1 id="implementation">Implementation</h1>

<p>In “Math Maze”, each puzzle starts with a “Start” point and an “End” point displayed on a 4 x 5 grid of numbers. The “End” point displays the target number for the current puzzle. Players trace a path of numbers from the “Start” point to the end point that adds up to the target number. As the players trace the path, the “End” point updates with the current value of their path so far.</p>

<figure class="lazyload">
    <img class="responsive-screenshot lazyload" data-src="/images/projects/math-maze/gameplay.png" />
</figure>

<h2 id="puzzle-generation">Puzzle Generation</h2>

<p>To generate a path, I first select a random “Start” point on the 4 x 5 grid and decide on a random length for the path. (The funky typecasting seen here is necessary to properly convert the random <code class="highlighter-rouge">UInt32</code> given to a higher-level <code class="highlighter-rouge">CGFloat</code>.)</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">pathLength</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="nf">arc4random_uniform</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">+</span> <span class="mi">5</span>

<span class="k">var</span> <span class="nv">currentRow</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="nf">arc4random_uniform</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="k">var</span> <span class="nv">currentColumn</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="nf">arc4random_uniform</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>

<span class="k">var</span> <span class="nv">startingPoint</span> <span class="o">=</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">(</span><span class="n">currentRow</span><span class="p">),</span> <span class="nv">y</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">(</span><span class="n">currentColumn</span><span class="p">))</span></code></pre></figure>

<p>From there, I randomly decide on a direction to head from that point, and continually append new points to a storage array. Path generation stops once the <code class="highlighter-rouge">pathLength</code> has been reached.</p>

<p>However, the path is not allowed to intersect itself nor land outside of the edges of the grid, so we first check to see if the current path already contains the given point or if it lands outside a boundary. If so, we then check to see if the current path is completely “boxed-in”—that is, it has no possible point to head towards in its current state. If so, maze generation immediately stops there.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">if</span> <span class="n">currentPath</span><span class="o">.</span><span class="nf">contains</span><span class="p">(</span><span class="nf">ccp</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">y</span><span class="p">))</span> <span class="o">&amp;&amp;</span>
   <span class="n">currentPath</span><span class="o">.</span><span class="nf">contains</span><span class="p">(</span><span class="nf">ccp</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">y</span><span class="p">))</span> <span class="o">&amp;&amp;</span>
   <span class="n">currentPath</span><span class="o">.</span><span class="nf">contains</span><span class="p">(</span><span class="nf">ccp</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">&amp;&amp;</span>
   <span class="n">currentPath</span><span class="o">.</span><span class="nf">contains</span><span class="p">(</span><span class="nf">ccp</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// The point is boxed in, and maze generation should stop immediately.</span>
<span class="p">}</span></code></pre></figure>

<p>From there, all we have to do is randomly populate the grid with numbers and calculate an answer from the numbers that fall in the specified path.</p>

<p>Finally, even though we know the desired path, I add up the numbers for every solution the player comes up with just in case unexpected solutions come up from the numbers we generate. This guarantees that there always is at least one possible answer to every puzzle. Perfect!</p>


                    
                        <div class="post-ending">
                            <div class="ending-tagline">
                                Math Maze was developed at MIT Blueprint in February 2016.
                            </div>
                            
                                <a href="https://github.com/ZacharyEspiritu/mit-blueprint" class="ending-button">
                                    view Github repo 
                                    <i class="fa fa-long-arrow-right post-ending-arrow" aria-hidden="true"></i>
                                </a>
                            
                        </div>
                    
                </article>
            </div>
        </main>
        




<div class="post-preview">
    <div class="wrapper">
        previews.txt<br>
        ------------<br>
        <a class="preview-link" href="/">-> home</a><br>
        
            <a class="preview-link" href="/project/math-battle/">-> next_project</a><br>
        
        
            <a class="preview-link" href="/project/fit-farm/">-> previous_project</a>
        
    </div>
</div>

        <div class="color-detail" style="background: #696969;"></div>
        <footer id="footer" class="content gray" role="group">
    <div class="wrapper center-align">
        <a href="https://github.com/ZacharyEspiritu" class="footer-social" aria-label="Github">
            <i class="fa fa-github-square" aria-hidden="true" title="Github"></i>
            ZacharyEspiritu
        </a>
        <a href="https://www.linkedin.com/in/zacharyespiritu" class="footer-social" aria-label="LinkedIn">
            <i class="fa fa-linkedin-square" aria-hidden="true" title="LinkedIn"></i>
            zachary.espiritu
        </a>
        <a href="mailto:me@zacharyespiritu.com" class="footer-social" aria-label="Email">
            <i class="fa fa-envelope" aria-hidden="true" title="Email"></i>
            me@zacharyespiritu.com
        </a>
    </div>
</footer>
<div class="footer-rainbow">
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
    <div class="rainbow-stripe"></div>
</div>

        <script type="text/javascript">
    window.loading_screen.finish();
</script>

<script>
    !function(z,a,c,h,A,r,y){z.GoogleAnalyticsObject=c;z[c]||(z[c]=function(){
    (z[c].q=z[c].q||[]).push(arguments)});z[c].l=+new Date;r=a.createElement(h);
    y=a.getElementsByTagName(h)[0];r.src=A;y.parentNode.insertBefore(r,y)}
    (window,document,'ga','script','//www.google-analytics.com/analytics.js');

    ga('create', 'UA-83690859-1', 'auto');
    ga('send', 'pageview');
</script>

    </body>
</html>
